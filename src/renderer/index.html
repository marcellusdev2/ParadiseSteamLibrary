<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Paradise Steam Library</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
</head>
<body>
    <div class="title-bar">
        <div class="title-bar-left">
            <div class="app-logo">
                <span class="app-name">Paradise Steam Library</span>
            </div>
        </div>
        
        <div class="title-bar-right">

            <div class="active-users-indicator" id="activeUsersIndicator">
                <div class="active-users-icon">
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
                        <circle cx="9" cy="7" r="4"/>
                        <path d="M23 21v-2a4 4 0 0 0-3-3.87"/>
                        <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
                    </svg>
                </div>
                <span class="active-users-count" id="activeUsersCount">-</span>
                <span class="active-users-label">aktif</span>
            </div>
            
            <button class="title-btn minimize-btn" id="minimizeBtn">
                <svg width="12" height="12" viewBox="0 0 12 12">
                    <path d="M2 6h8" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                </svg>
            </button>
            <button class="title-btn maximize-btn" id="maximizeBtn">
                <svg width="12" height="12" viewBox="0 0 12 12">
                    <rect x="2" y="2" width="8" height="8" stroke="currentColor" fill="none"/>
                </svg>
            </button>
            <button class="title-btn close-btn" id="closeBtn">
                <svg width="12" height="12" viewBox="0 0 12 12">
                    <path d="M3 3l6 6M9 3l-6 6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                </svg>
            </button>
        </div>
    </div>

    <div class="main-container">
        <div class="content-wrapper">
            <div class="top-nav" id="topNav">
                <div class="nav-left"></div>
                <div class="nav-right">
                    <div class="search-container">
                        <div class="search-icon">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
                                <circle cx="11" cy="11" r="8" stroke="currentColor" stroke-width="2"/>
                                <path d="m21 21-4.35-4.35" stroke="currentColor" stroke-width="2"/>
                            </svg>
                        </div>
                        <input type="text" id="searchInput" placeholder="Oyun ara..." class="search-input" data-i18n-placeholder="search_placeholder">
                        <div class="search-shortcut">Ctrl+K</div>
                    </div>
                </div>
            </div>

            <!-- Floating Hamburger Menu -->
            <div class="floating-hamburger">
                <button class="hamburger-btn" id="hamburgerMenuBtn">
                    <span class="hamburger-line"></span>
                    <span class="hamburger-line"></span>
                    <span class="hamburger-line"></span>
                </button>
                <div class="bubble-menu" id="bubbleMenu">
                    <button class="bubble-item" id="bubbleHome" title="Ana Sayfa">
                        <svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                            <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/>
                            <polyline points="9,22 9,12 15,12 15,22"/>
                        </svg>
                    </button>
                    <button class="bubble-item" id="bubbleLibrary" title="Kütüphanem">
                        <svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                            <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"/>
                            <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"/>
                        </svg>
                    </button>
                    <!-- Tüm Oyunlar kısa yolu kaldırıldı -->
                    <button class="bubble-item" id="bubbleOnlinePass" title="Online Pass">
                        <svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                            <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
                            <circle cx="9" cy="7" r="4"/>
                            <path d="M23 21v-2a4 4 0 0 0-3-3.87"/>
                            <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
                        </svg>
                    </button>
                    <button class="bubble-item" id="bubbleManualInstall" title="Manuel Kurulum">
                        <svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                            <polyline points="7,10 12,15 17,10"/>
                            <line x1="12" y1="15" x2="12" y2="3"/>
                        </svg>
                    </button>
                    <button class="bubble-item" id="bubbleSettings" title="Ayarlar">
                        <svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                            <circle cx="12" cy="12" r="3"/>
                            <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 1 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 1 1-4 0v-.09A1.65 1.65 0 0 0 8 19.4a1.65 1.65 0 0 0-1.82.33l-.06-.06a2 2 0 1 1-2.83-2.83l.06-.06A1.65 1.65 0 0 0 5 15.4a1.65 1.65 0 0 0-1.51-1H3a2 2 0 1 1 0-4h.09A1.65 1.65 0 0 0 5 8.6a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 1 1 2.83-2.83l.06.06A1.65 1.65 0 0 0 8.6 5a1.65 1.65 0 0 0 1-1.51V3a2 2 0 1 1 4 0v.09A1.65 1.65 0 0 0 16 5a1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 1 1 2.83 2.83l-.06.06A1.65 1.65 0 0 0 19 8.6a1.65 1.65 0 0 0 1.51 1H21a2 2 0 1 1 0 4h-.09A1.65 1.65 0 0 0 19 15.4z"/>
                        </svg>
                    </button>
                </div>
            </div>

            <div class="page-content">
                <!-- Home Page -->
                <div class="page active" id="homePage">
                    <div class="hero-section" id="heroSection">
                        <div class="hero-background" id="heroBackground"></div>
                        <div class="hero-overlay"></div>
                        <div class="hero-content">
                            <div class="hero-badge" data-i18n="featured_game">Öne Çıkan Oyun</div>
                            <h1 class="hero-title" id="heroTitle" data-i18n="loading">Yükleniyor...</h1>
                            <p class="hero-description" id="heroDescription" data-i18n="discovering_games">Harika oyunlar keşfediliyor...</p>
                            <div class="hero-actions">
                                <button class="hero-btn primary" id="heroViewBtn">
                                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <circle cx="12" cy="12" r="10"/>
                                        <path d="M12 6v6l4 2"/>
                                    </svg>
                                    <span data-i18n="view_details">Detayları Görüntüle</span>
                                </button>
                                <button class="hero-btn secondary" id="heroLibraryBtn">
                                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/>
                                    </svg>
                                    <span data-i18n="add_to_library">Kütüphaneme Ekle</span>
                                </button>
                            </div>
                        </div>
                        <div class="hero-game-info">
                            <div class="game-price" id="heroPrice">$0.00</div>
                        </div>
                    </div>

                    <div class="games-section">
                        <div class="section-header">
                            <h2 class="section-title" id="sectionTitle" data-i18n="featured_games">Öne Çıkan Oyunlar</h2>
                        </div>
                        
                        <div class="games-grid" id="gamesGrid"></div>

                        <div class="load-more-container">
                            <button class="load-more-btn" id="loadMoreBtn">
                                <span data-i18n="load_more">Daha Fazla Oyun Yükle</span>
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M12 5v14M5 12l7 7 7-7"/>
                                </svg>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Library Page -->
                <div class="page" id="libraryPage">
                    <div class="page-header">
                        <h1 data-i18n="library">Kütüphanem</h1>
                        <div class="header-right">
                            <div class="library-stats">
                                <div class="stat-item">
                                    <span class="stat-number" id="libraryCount">0</span>
                                    <span class="stat-label" data-i18n="library_tab">Oyun</span>
                                </div>
                            </div>
                            <button class="refresh-btn" id="refreshLibraryBtn" title="Kütüphaneyi Yenile" data-i18n-title="refresh_library">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"/>
                                    <path d="M21 3v5h-5"/>
                                    <path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"/>
                                    <path d="M3 21v-5h5"/>
                                </svg>
                            </button>
                        </div>
                    </div>
                    

                    
                    <div class="library-grid" id="libraryGrid"></div>
                </div>

                <!-- Settings Page -->
                <div class="page" id="settingsPage">
                    <div class="page-header">
                        <h1 data-i18n="settings">Ayarlar</h1>
                    </div>
                    <div class="settings-content">
                        <div class="settings-section">
                            <h3 data-i18n="steam_config">Steam Yapılandırması</h3>
                            <div class="setting-item">
                                <label data-i18n="steam_path">Steam Kurulum Yolu:</label>
                            </div>
                            <div class="path-input-group">
                                <input type="text" id="steamPathInput" readonly data-i18n-placeholder="steam_path_placeholder">
                                <button class="browse-btn" id="browseSteamBtn" data-i18n="browse">Gözat</button>
                            </div>
                        </div>
                        <div id="settings-page"></div>
                    </div>
                </div>

                <!-- All Games Page kaldırıldı -->

                <!-- Online Pass Page -->
                <div class="page" id="onlinePassPage" style="display:none;">
                    <div class="page-header">
                        <h1 data-i18n="online_pass">Online Pass</h1>
                    </div>
                </div>

                <!-- Manual Install Page -->
                <div class="page" id="manualInstallPage" style="display:none;">
                    <div class="page-header">
                        <h1>Manuel Kurulum</h1>
                    </div>
                    <div class="manual-install-content">
                        <div class="upload-section">
                            <div class="upload-area" id="uploadArea">
                                <div class="upload-icon">
                                    <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                                        <polyline points="7,10 12,15 17,10"/>
                                        <line x1="12" y1="15" x2="12" y2="3"/>
                                    </svg>
                                </div>
                                <h3 data-i18n="upload_game_file">Oyun Dosyasını Yükle</h3>
                                <p data-i18n="drag_drop_zip">ZIP dosyasını buraya sürükleyip bırakın veya tıklayarak seçin</p>
                                <input type="file" id="gameFileInput" accept=".zip" style="display:none;">
                                <button class="upload-btn" id="selectFileBtn" data-i18n="select_file">Dosya Seç</button>
                            </div>
                        </div>
                        
                        <div class="game-info-section" id="gameInfoSection" style="display:none;">
                            <h3 data-i18n="game_info">Oyun Bilgileri</h3>
                            <div class="game-info-form">
                                <div class="form-group">
                                    <label data-i18n="game_name">Oyun Adı:</label>
                                    <div class="game-name-display" id="gameNameDisplay">Yükleniyor...</div>
                                </div>
                                <div class="form-group">
                                    <label data-i18n="steam_app_id">Steam App ID:</label>
                                    <div class="game-id-display" id="gameIdDisplay">Yükleniyor...</div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="install-actions" id="installActions" style="display:none;">
                            <button class="action-btn primary" id="installGameBtn">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M12 2L2 7l10 5 10-5-10-5z"/>
                                    <path d="M2 17l10 5 10-5"/>
                                    <path d="M2 12l10 5 10-5"/>
                                </svg>
                                <span data-i18n="install_game">Oyunu Kur</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Discord Invite Modal -->
    <div class="modal-overlay" id="discordInviteModal">
        <div class="modal-container small">
            <div class="modal-header">
                <h2>Discord Sunucumuza Katıldınız mı?</h2>
            </div>
            <div class="modal-content">
                <p>Güncellemeler, destek ve topluluk için Discord sunucumuza katılın.</p>
                <br>
                <div class="modal-actions" style="display:flex;gap:8px;justify-content:flex-end;">
                    <button class="action-btn secondary" id="discordInviteLaterBtn">Daha sonra</button>
                    <button class="action-btn primary" id="discordInviteJoinBtn">Sunucuya Katıl</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Update Modal -->
    <div class="modal-overlay" id="updateModal">
        <div class="modal-container small">
            <div class="modal-header">
                <h2>Yeni güncelleme bulundu</h2>
            </div>
            <div class="modal-content">
                <p>
                    En son sürüm: <strong id="updateLatest">v?</strong><br>
                    Mevcut sürüm: <span id="updateCurrent">v?</span>
                </p>
                <br>
                <div class="modal-actions" style="display:flex;gap:8px;justify-content:flex-end;">
                    <button class="action-btn secondary" id="updateLaterBtn">Daha sonra</button>
                    <button class="action-btn primary" id="openReleaseBtn">Güncellemeyi Aç</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Game Details Modal -->
    <div class="modal-overlay" id="gameModal">
        <div class="modal-container">
            <div class="modal-header">
                <div class="modal-title-section">
                    <h2 id="modalTitle" data-i18n="game_title">Oyun Adı</h2>
                    <div class="modal-subtitle">
                        <span id="modalDeveloper" data-i18n="developer">Geliştirici</span>
                        <span class="separator">•</span>
                        <span id="modalReleaseDate" data-i18n="release_year">2023</span>
                    </div>
                </div>
                <button class="modal-close" id="modalClose">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="18" y1="6" x2="6" y2="18"/>
                        <line x1="6" y1="6" x2="18" y2="18"/>
                    </svg>
                </button>
            </div>
            
            <div class="modal-content">
                <div class="modal-media">
                    <div class="main-image-container">
                        <div id="modalPreviewThumbnails"></div>
                        <div id="modalVideoContainer" style="position:relative;"></div>
                        <img id="modalMainImage" src="" alt="Oyun Ekran Görüntüsü" style="display:none;">
                    </div>
                </div>
                
                <div class="modal-info">
                    <div class="game-stats">
                        <div class="stat-item">
                            <div class="stat-label" data-i18n="price">Fiyat</div>
                            <div class="stat-value price" id="modalPrice">$29.99</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label" data-i18n="reviews">İncelemeler</div>
                            <div class="stat-value" id="modalReviews">Çok Olumlu</div>
                        </div>
                    </div>
                    
                    <div class="game-description">
                        <h3 data-i18n="about_game">Bu Oyun Hakkında</h3>
                        <p id="modalDescription" data-i18n="game_description">Oyun açıklaması burada yüklenecek...</p>
                    </div>
                    
                    <div class="game-details">
                        <div class="detail-row">
                            <span class="detail-label" data-i18n="developer">Geliştirici:</span>
                            <span class="detail-value" id="modalDevDetail">Yükleniyor...</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label" data-i18n="publisher">Yayıncı:</span>
                            <span class="detail-value" id="modalPublisher">Yükleniyor...</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label" data-i18n="release_date">Çıkış Tarihi:</span>
                            <span class="detail-value" id="modalRelease">Yükleniyor...</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label" data-i18n="genres">Türler:</span>
                            <div class="genre-tags" id="modalGenres"></div>
                        </div>
                    </div>
                    
                    <div class="modal-actions">
                        <button class="action-btn primary" id="modalAddBtn" data-i18n="add_to_library">Kütüphaneme Ekle</button>
                        <button class="action-btn secondary" id="modalSteamBtn" data-i18n="open_in_steam">Steam'de Aç</button>
                        <button class="action-btn primary" id="modalStartBtn" style="display:none;" data-i18n="start_game">Oyunu Başlat</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- DLC Selection Modal -->
    <div class="modal-overlay" id="dlcModal">
        <div class="modal-container">
            <div class="modal-header">
                <h2 data-i18n="select_dlcs">DLC'leri Seç</h2>
                <button class="modal-close" id="dlcModalClose">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="18" y1="6" x2="6" y2="18"/>
                        <line x1="6" y1="6" x2="18" y2="18"/>
                    </svg>
                </button>
            </div>
            <div class="modal-content">
                <div style="display:flex;align-items:center;gap:10px;margin-bottom:16px;">
                    <input type="checkbox" id="selectAllDLC">
                    <label for="selectAllDLC" data-i18n="select_all_dlcs">Tümünü Seç</label>
                </div>
                <div class="dlc-list" id="dlcList"></div>
                <div class="modal-actions">
                    <button class="action-btn primary" id="confirmDLCBtn" data-i18n="add_selected">Seçilenleri Ekle</button>
                    <button class="action-btn secondary" id="cancelDLCBtn" data-i18n="cancel">İptal</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Steam Restart Modal -->
    <div class="modal-overlay" id="steamRestartModal">
        <div class="modal-container small">
            <div class="modal-header">
                <h2 data-i18n="restart_steam_title">Steam'i Yeniden Başlat</h2>
            </div>
            <div class="modal-content">
                <p data-i18n="restart_steam_info">Oyun kütüphanenize eklendi! Değişiklikleri görmek için Steam'in yeniden başlatılması gerekiyor.</p>
                <p data-i18n="restart_steam_question">Steam'i şimdi yeniden başlatmak istiyor musunuz?</p>
                <div class="countdown" id="countdown" style="font-size: 36px; font-weight: 800; color: var(--accent-primary); text-align: center; margin: 16px 0;">5</div>
                <div class="modal-actions">
                    <button class="action-btn primary" id="restartSteamBtn" data-i18n="restart_steam_yes">Evet, Yeniden Başlat</button>
                    <button class="action-btn secondary" id="cancelRestartBtn" data-i18n="restart_steam_no">Hayır, Daha Sonra</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Steam Setup Modal -->
    <div class="modal-overlay" id="steamSetupModal">
        <div class="modal-container">
            <div class="modal-header">
                <h2>Steam Kurulumu Gerekli</h2>
            </div>
            <div class="modal-content">
                <p>Devam etmek için lütfen Steam kurulum klasörünüzü seçin.</p>
                <div class="path-input-group" style="margin: 20px 0;">
                    <input type="text" id="setupSteamPath" placeholder="Steam kurulum yolu..." readonly>
                    <button class="browse-btn" id="setupBrowseBtn">Gözat</button>
                </div>
                <div class="modal-actions">
                    <button class="action-btn primary" id="confirmSetupBtn">Devam Et</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-content">
            <div class="loading-spinner">
                <div class="spinner-ring"></div>
            </div>
            <div class="loading-text">Harika oyunlar yükleniyor...</div>
        </div>
    </div>

    <!-- Notification Container -->
    <div class="notification-container" id="notificationContainer"></div>

    <div id="settings-page"></div>

    <footer>
        © 2025 Paradise Development. Tüm hakları saklıdır.
    </footer>

    <!-- AI Chat: toggle button -->
    <button id="aiChatToggle" class="ai-chat-toggle" title="Sohbet">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M21 15a4 4 0 0 1-4 4H7l-4 4V7a4 4 0 0 1 4-4h10a4 4 0 0 1 4 4z"/>
        </svg>
    </button>

    <!-- AI Chat: panel -->
    <div id="aiChatWidget" class="ai-chat hidden" aria-hidden="true">
        <div class="ai-chat-header">
            <div class="ai-chat-title">Paradise AI</div>
            <div class="ai-chat-actions">
                <button id="aiChatClear" class="ai-chat-icon" title="Temizle">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 6h18M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2m3 0v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6h14z"/></svg>
                </button>
                <button id="aiChatClose" class="ai-chat-icon" title="Kapat">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>
                </button>
            </div>
        </div>
        <div id="aiChatMessages" class="ai-chat-messages"></div>
        <div class="ai-chat-input">
            <textarea id="aiChatTextarea" rows="2" placeholder="Denuvolu oyunlar nasıl oynanır?"></textarea>
            <button id="aiChatSend" class="ai-chat-send" title="Gönder">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="22" y1="2" x2="11" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/></svg>
            </button>
        </div>
    </div>

    <script src="renderer.js"></script>
</body>
</html>